<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzharFitPro | Elite Phase Engine</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #D4AF37; --black: #050505; --card: #111; --red: #ff4d4d; --blue: #4d94ff; }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { background: var(--black); color: #fff; font-family: 'Inter', sans-serif; }
        .container { padding: 15px; max-width: 800px; margin: auto; }
        
        header { background: #000; border-bottom: 3px solid var(--gold); padding: 40px 20px; text-align: center; margin-bottom: 30px; }
        .logo { font-family: 'Oswald'; color: var(--gold); font-size: 2.5rem; letter-spacing: 5px; text-transform: uppercase; margin-bottom: 5px; font-weight: 900; }
        
        .input-card { background: var(--card); padding: 30px; border-radius: 25px; border: 1px solid #222; text-align: center; margin-bottom: 30px; }
        .type-selector { display: flex; gap: 10px; margin-bottom: 20px; }
        .type-btn { flex: 1; padding: 12px; border: 1px solid #333; background: #000; color: #666; border-radius: 10px; font-weight: 800; cursor: pointer; transition: 0.3s; }
        .type-btn.active { border-color: var(--gold); color: var(--gold); background: rgba(212, 175, 55, 0.05); }
        
        input { width: 100%; background: #000; border: none; border-bottom: 2px solid #333; padding: 15px; color: #fff; font-size: 1.1rem; text-align: center; margin-bottom: 20px; outline: none; }
        .wt-input { font-size: 2.5rem !important; color: var(--gold) !important; font-weight: 900; }
        .btn-main { width: 100%; background: var(--gold); color: #000; padding: 20px; border: none; border-radius: 15px; font-weight: 900; text-transform: uppercase; cursor: pointer; font-size: 1.1rem; }
        
        #results { display: none; margin-top: 30px; }
        .day-block { border: 1px solid #222; border-radius: 20px; margin-bottom: 40px; overflow: hidden; page-break-inside: avoid; background: #000; }
        .day-header { padding: 15px 25px; font-family: 'Oswald'; font-weight: 900; font-size: 1.3rem; display: flex; justify-content: space-between; align-items: center; }
        
        .stat-grid { display: grid; grid-template-columns: repeat(4, 1fr); background: #0a0a0a; border-bottom: 1px solid #222; }
        .stat-item { padding: 15px; text-align: center; border-right: 1px solid #1a1a1a; }
        .stat-item b { color: var(--gold); font-size: 1.1rem; }
        .stat-item small { color: #555; font-weight: 800; text-transform: uppercase; font-size: 0.65rem; }

        .nutrition-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        .nutrition-table td { padding: 14px 20px; border-bottom: 1px solid #111; color: #ccc; }
        .nutrition-table td:first-child { color: var(--gold); font-weight: 800; width: 100px; }

        .transition-alert { background: #fff; color: #000; padding: 25px; border-radius: 15px; margin: 30px 0; border-left: 10px solid var(--gold); page-break-inside: avoid; }
        .transition-alert h2 { font-family: 'Oswald'; text-transform: uppercase; margin-bottom: 5px; }
    </style>
</head>
<body>

<header>
    <div class="logo">AzharFitPro</div>
    <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 10px;">
        <span style="font-size: 0.7rem; color: #888; letter-spacing: 3px; font-weight: 600;">@Azhar.Fitness_</span>
    </div>
    <h1 style="font-family: 'Oswald'; font-size: 1.5rem; color: #fff; text-transform: uppercase;">The Science of <span style="color: var(--gold);">Championship</span> Conditioning</h1>
</header>

<div class="container">
    <div class="input-card">
        <div class="type-selector">
            <div id="btn15" class="type-btn active" onclick="setMode(15, this)">15-DAY PEAK</div>
            <div id="btn30" class="type-btn" onclick="setMode(30, this)">30-DAY ADVANCED</div>
        </div>
        <input type="text" id="custName" placeholder="ATHLETE FULL NAME">
        <input type="number" id="wt" class="wt-input" placeholder="00">
        <div style="color: #555; font-size: 0.7rem; margin-bottom: 20px; font-weight: 600;">TARGET BODY WEIGHT (KG)</div>
        <button class="btn-main" onclick="runMasterEngine()">Execute Adaptive Protocol</button>
    </div>

    <div id="results">
        <button onclick="exportPDF()" style="width:100%; padding:15px; background:#fff; color:#000; font-weight:900; border-radius:12px; border:none; margin-bottom:20px; cursor:pointer;">ðŸ“¥ DOWNLOAD MASTER PROTOCOL</button>
        <div id="pdfArea"></div>
    </div>
</div>

<script>
    let currentDays = 15;

    function setMode(days, btn) { 
        currentDays = days; 
        document.querySelectorAll('.type-btn').forEach(b => b.classList.remove('active')); 
        btn.classList.add('active'); 
    }

    function runMasterEngine() {
        const name = document.getElementById('custName').value.toUpperCase() || "ELITE ATHLETE";
        const kg = parseFloat(document.getElementById('wt').value);
        
        if(!kg || kg <= 0) {
            alert("Please enter athlete weight.");
            return;
        }

        const resultsDiv = document.getElementById('results');
        const pdfArea = document.getElementById('pdfArea');
        resultsDiv.style.display = 'block';
        pdfArea.innerHTML = '';

        // Master Multipliers
        const protein = Math.round(kg * 2.5);
        const fats = Math.round(kg * 0.7);
        let baseCarbs = currentDays === 15 ? kg * 1.5 : kg * 2.5;

        let html = `
            <div style="background:#000; padding: 20px; text-align:center; border: 2px solid var(--gold); border-radius: 15px; margin-bottom: 30px;">
                <h2 style="font-family:'Oswald'; color:var(--gold); font-size:2rem; margin:0;">OFFICIAL PROTOCOL</h2>
                <p style="letter-spacing:2px; font-size:0.8rem;">FOR: ${name} | TARGET WEIGHT: ${kg}KG</p>
            </div>
        `;

        for (let i = 1; i <= currentDays; i++) {
            let dailyCarbs = Math.round(baseCarbs * Math.pow(currentDays === 15 ? 0.95 : 0.98, i-1));
            let isRefeed = (currentDays === 30 && i % 7 === 0);
            
            if (isRefeed) {
                dailyCarbs = Math.round(kg * 4); // High carb spike
            }

            let dailyCals = (protein * 4) + (dailyCarbs * 4) + (fats * 9);

            if (i === 1) {
                html += `<div class="transition-alert"><h2>PHASE 1: DEPLETION</h2><p>Focus on high-volume training. Increase water intake to 4L+.</p></div>`;
            } else if (i === Math.round(currentDays * 0.7)) {
                html += `<div class="transition-alert" style="border-left-color:#4d94ff;"><h2>PHASE 2: THE DRY OUT</h2><p>Limit sodium. Cardio should be LISS only. Muscle fullness is the priority.</p></div>`;
            }

            html += `
                <div class="day-block">
                    <div class="day-header" style="background: ${isRefeed ? '#D4AF37' : '#111'}; color: ${isRefeed ? '#000' : '#fff'};">
                        <span>DAY ${i} ${isRefeed ? '(RE-FEED)' : ''}</span>
                        <span style="font-size:0.8rem;">H2O: ${(3 + (i*0.1)).toFixed(1)}L</span>
                    </div>
                    <div class="stat-grid">
                        <div class="stat-item"><b>${dailyCals}</b><br><small>Kcal</small></div>
                        <div class="stat-item"><b>${protein}G</b><br><small>Pro</small></div>
                        <div class="stat-item"><b>${dailyCarbs}G</b><br><small>Cho</small></div>
                        <div class="stat-item"><b>${fats}G</b><br><small>Fat</small></div>
                    </div>
                    <table class="nutrition-table">
                        <tr><td>MEAL 1</td><td>${Math.round(dailyCarbs * 0.3)}g Carbs + 5 Egg Whites</td></tr>
                        <tr><td>MEAL 2</td><td>${Math.round(dailyCarbs * 0.2)}g Carbs + 150g Chicken</td></tr>
                        <tr><td>MEAL 3</td><td>PRE-WORKOUT: 1 Apple + Black Coffee</td></tr>
                        <tr><td>MEAL 4</td><td>${Math.round(dailyCarbs * 0.4)}g Carbs + 150g White Fish</td></tr>
                        <tr style="border:none;"><td style="color:#4d94ff;">SUPPS</td><td>Omega 3, Zinc, Magnesium, 5g Creatine</td></tr>
                    </table>
                </div>
            `;
        }

        pdfArea.innerHTML = html;
        window.scrollTo({ top: resultsDiv.offsetTop, behavior: 'smooth' });
    }

    function exportPDF() {
        const element = document.getElementById('pdfArea');
        const name = document.getElementById('custName').value || "Athlete";
        html2pdf().set({
            margin: 10,
            filename: `AzharFitPro_${name}.pdf`,
            html2canvas: { scale: 2, backgroundColor: '#050505' },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        }).from(element).save();
    }function runMasterEngine() {
    const name = document.getElementById('custName').value.toUpperCase() || "ELITE ATHLETE";
    const kg = parseFloat(document.getElementById('wt').value);
    
    if(!kg || kg <= 0) {
        alert("Please enter athlete weight.");
        return;
    }

    const resultsDiv = document.getElementById('results');
    const pdfArea = document.getElementById('pdfArea');
    resultsDiv.style.display = 'block';
    pdfArea.innerHTML = '';

    // Master Multipliers
    const protein = Math.round(kg * 2.5);
    const fats = Math.round(kg * 0.7);
    let baseCarbs = currentDays === 15 ? kg * 1.5 : kg * 2.5;

    // --- STEP 1: ADD THE PROFESSIONAL HEADER ---
    let html = `
        <div class="pdf-header">
            <div class="header-left">
                <p style="color: var(--gold); font-weight: 900; letter-spacing: 5px; font-size: 0.7rem; margin-bottom: 5px;">EST. 2026 / ELITE DIVISION</p>
                <h1>AZHARFIT<br><span style="color:#fff;">PRO ENGINE</span></h1>
            </div>
            <div class="header-right">
                <p>Athlete: <span style="color:#fff;">${name}</span></p>
                <p>Target: <span style="color:#fff;">${kg} KG</span></p>
                <p>Protocol: <span style="color:var(--gold);">${currentDays} DAYS</span></p>
                <p>ID: <span style="color:#fff;">#${Math.floor(1000 + Math.random() * 9000)}</span></p>
            </div>
        </div>
        
        <div style="padding: 20px;">
            <div style="display:flex; gap:20px; margin-bottom:30px;">
                <div style="flex:1; background:#111; padding:15px; border-radius:10px; border:1px solid #222;">
                    <small style="color:var(--gold); font-weight:900; font-size:0.6rem; display:block; margin-bottom:5px;">STRATEGY</small>
                    <p style="font-size:0.8rem; font-weight:600; margin:0;">METABOLIC CONDITIONING & PEAKING</p>
                </div>
                <div style="flex:1; background:#111; padding:15px; border-radius:10px; border:1px solid #222;">
                    <small style="color:var(--gold); font-weight:900; font-size:0.6rem; display:block; margin-bottom:5px;">FOCUS</small>
                    <p style="font-size:0.8rem; font-weight:600; margin:0;">CELLULAR VOLUMIZATION & HARDNESS</p>
                </div>
            </div>
    `;

    // --- STEP 2: THE DAY BLOCK LOOP ---
    for (let i = 1; i <= currentDays; i++) {
        let dailyCarbs = Math.round(baseCarbs * Math.pow(currentDays === 15 ? 0.95 : 0.98, i-1));
        let isRefeed = (currentDays === 30 && i % 7 === 0);
        let isLastDay = (i === currentDays);
        if (isRefeed) dailyCarbs = Math.round(kg * 4);
        if (isLastDay) dailyCarbs = Math.round(kg * 3.5);

        let dailyCals = (protein * 4) + (dailyCarbs * 4) + (fats * 9);
        let waterIntake = isLastDay ?

</script>
</body>
</html>
